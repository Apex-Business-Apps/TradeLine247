/**
 * Header Edge-Pinning Layout
 * 
 * Ensures left badge and right button stay flush to viewport edges
 * while center nav adapts/collapses. Respects iOS safe areas.
 */

header[data-site-header] [data-header-inner] {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 0.5rem;
  /* px-4 baseline (1rem = 16px) at 360px, scales with sm:px-6 lg:px-8 */
  padding-inline: max(1rem, env(safe-area-inset-left)) max(1rem, env(safe-area-inset-right));
}

/* Responsive padding scaling */
@media (min-width: 640px) {
  header[data-site-header] [data-header-inner] {
    padding-inline: max(1.5rem, env(safe-area-inset-left)) max(1.5rem, env(safe-area-inset-right));
  }
}

@media (min-width: 1024px) {
  header[data-site-header] [data-header-inner] {
    padding-inline: max(2rem, env(safe-area-inset-left)) max(2rem, env(safe-area-inset-right));
  }
}

/* Pin left and right slots to edges - never wrap */
header[data-site-header] [data-slot="left"],
header[data-site-header] [data-slot="right"] {
  white-space: nowrap;
  min-width: max-content;
}

/* Explicitly push right slot to far right edge */
header[data-site-header] [data-slot="right"] {
  justify-self: end;
  margin-left: auto;
}

/* Center slot can shrink/collapse */
header[data-site-header] [data-slot="center"] {
  justify-self: center;
  min-width: 0;
}

/* Ensure header stickiness and stacking */
/* CRITICAL FIX: z-index must match Header.tsx z-[9999] to prevent being covered by other elements */
header[data-site-header] {
  position: sticky;
  top: 0;
  z-index: 9999 !important; /* Must match Header.tsx z-[9999] - was 50 which caused header to be covered */
}

/* Mobile: same grid, center may be hidden behind hamburger */
@media (max-width: 768px) {
  header[data-site-header] [data-header-inner] {
    grid-template-columns: auto 1fr auto;
  }
}
